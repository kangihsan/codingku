(self.AMP=self.AMP||[]).push({n:"amp-list",f:(function(AMP){function e(a,b){function d(){}d.prototype=b.prototype;a.prototype=new d;a.prototype.constructor=a;for(var c in b)if(Object.defineProperties){var f=Object.getOwnPropertyDescriptor(b,c);f&&Object.defineProperty(a,c,f)}else a[c]=b[c]};var g=Object.prototype.toString;Date.now();self.log=self.log||{user:null,dev:null};var h=self.log;function l(){if(h.user)return h.user;throw Error("failed to call initLogConstructor");};function p(a,b){a=a.__AMP_TOP||a;var d=a.services&&a.services[b]&&a.services[b].obj;return d};var q,r;function t(a){if("string"==typeof a){q||(q=self.document.createElement("a"),r=self.UrlCache||(self.UrlCache=Object.create(null)));var b=r[a];if(b)a=b;else{q.href=a;q.protocol||(q.href=q.href);b={href:q.href,protocol:q.protocol,host:q.host,hostname:q.hostname,port:"0"==q.port?"":q.port,pathname:q.pathname,search:q.search,hash:q.hash,origin:null};"/"!==b.pathname[0]&&(b.pathname="/"+b.pathname);if("http:"==b.protocol&&80==b.port||"https:"==b.protocol&&443==b.port)b.port="",b.host=b.hostname;b.origin=q.origin&&"null"!=q.origin?q.origin:"data:"!=b.protocol&&b.host?b.protocol+"//"+b.host:b.href;a=r[a]=b}}(b="https:"==a.protocol||"localhost"==a.hostname)||(a=a.hostname,b=a.length-10,b=0<=b&&a.indexOf(".localhost",b)==b);return b}
function u(a,b){var d;d=void 0===d?"source":d;l().assert(null!=a,"%s %s must be available",b,d);var c=a;l().assert(t(c)||/^(\/\/)/.test(c),'%s %s must start with "https://" or "//" or be relative and served from either https or from localhost. Invalid value: %s',b,d,c);return c};function v(a){AMP.BaseElement.apply(this,arguments)}e(v,AMP.BaseElement);v.prototype.isLayoutSupported=function(a){return"fixed"==a||"fixed-height"==a||"responsive"==a||"fill"==a||"flex-item"==a};v.prototype.buildCallback=function(){this.a=this.win.document.createElement("div");this.applyFillContent(this.a,!0);this.element.appendChild(this.a);this.a.hasAttribute("role")||this.a.setAttribute("role","list");var a;a:{a=this.getAmpDoc();if(a.nodeType){var b=(a.ownerDocument||a).defaultView;if(b=b!=(b.__AMP_TOP||b)&&b.services&&b.services["url-replace"]&&b.services["url-replace"].obj?b.services["url-replace"].obj:null){a=b;break a}}if(a.nodeType){var d=(a.ownerDocument||a).defaultView,b=d=d.__AMP_TOP||d,c=d.services;c||(c=d.services={});d=c;(c=d.ampdoc)||(c=d.ampdoc={obj:null,promise:null,resolve:null});c.obj||(c.obj=(void 0)(b),c.resolve&&c.resolve(c.obj));a=c.obj.getAmpDoc(a)}a=(a=a.isSingleDoc()?a.win:a)&&a.services&&a.services["url-replace"]&&a.services["url-replace"].obj}this.c=a};v.prototype.layoutCallback=function(){var a=this;return this.c.expandAsync(u(this.element.getAttribute("src"),this.element)).then(function(b){var d={};a.element.hasAttribute("credentials")&&(d.credentials=a.element.getAttribute("credentials"));d.requireAmpResponseSourceOrigin=!!d.credentials;return p(a.win,"xhr").fetchJson(b,d)}).then(function(b){l().assert(null!=b,"Response is undefined %s",a.element);var d=a.element.getAttribute("items")||"items",c;c=d;if("."==c)c=b;else{c=c.split(".");for(var f=b,m=0;m<c.length;m++){var k=c[m];if(!k){f=void 0;break}if("[object Object]"!==g.call(f)||void 0===f[k]||null==f||"object"!=typeof f||!Object.prototype.hasOwnProperty.call(f,k)){f=void 0;break}f=f[k]}c=f}var n=c;l().assert(n&&Array.isArray(n),'Response must contain an array at "%s". %s %s',d,a.element,b);return p(a.win,"templates").findAndRenderTemplateArray(a.element,n).then(a.b.bind(a))})};v.prototype.b=function(a){var b=this;a.forEach(function(a){a.hasAttribute("role")||a.setAttribute("role","listitem");b.a.appendChild(a)});this.getVsync().measure(function(){var a=b.a.scrollHeight;a>b.element.offsetHeight&&b.attemptChangeHeight(a).catch(function(){})})};AMP.registerElement("amp-list",v);})});