(self.AMP=self.AMP||[]).push({n:"amp-audio",f:(function(AMP){function c(b,a){function d(){}d.prototype=a.prototype;b.prototype=new d;b.prototype.constructor=b;for(var e in a)if(Object.defineProperties){var h=Object.getOwnPropertyDescriptor(a,e);h&&Object.defineProperty(b,e,h)}else b[e]=a[e]};Date.now();self.log=self.log||{user:null,dev:null};var f=self.log;function g(){if(f.user)return f.user;throw Error("failed to call initLogConstructor");};var k,l;function m(b){if("string"==typeof b){k||(k=self.document.createElement("a"),l=self.UrlCache||(self.UrlCache=Object.create(null)));var a=l[b];if(a)b=a;else{k.href=b;k.protocol||(k.href=k.href);a={href:k.href,protocol:k.protocol,host:k.host,hostname:k.hostname,port:"0"==k.port?"":k.port,pathname:k.pathname,search:k.search,hash:k.hash,origin:null};"/"!==a.pathname[0]&&(a.pathname="/"+a.pathname);if("http:"==a.protocol&&80==a.port||"https:"==a.protocol&&443==a.port)a.port="",a.host=a.hostname;a.origin=k.origin&&"null"!=k.origin?k.origin:"data:"!=a.protocol&&a.host?a.protocol+"//"+a.host:a.href;b=l[b]=a}}(a="https:"==b.protocol||"localhost"==b.hostname)||(b=b.hostname,a=b.length-10,a=0<=a&&b.indexOf(".localhost",a)==a);return a}function n(b,a){var d;d=void 0===d?"source":d;g().assert(null!=b,"%s %s must be available",a,d);var e=b;g().assert(m(e)||/^(\/\/)/.test(e),'%s %s must start with "https://" or "//" or be relative and served from either https or from localhost. Invalid value: %s',a,d,e)};function p(b){AMP.BaseElement.call(this,b);this.a=null}c(p,AMP.BaseElement);p.prototype.isLayoutSupported=function(b){return"fixed"==b||"fixed-height"==b};p.prototype.layoutCallback=function(){var b=this.element.ownerDocument.createElement("audio");if(!b.play)return this.toggleFallback(!0),Promise.resolve();b.controls=!0;this.element.getAttribute("src")&&n(this.element.getAttribute("src"),this.element);this.propagateAttributes("src autoplay muted loop aria-label aria-describedby aria-labelledby".split(" "),b);this.applyFillContent(b);this.getRealChildNodes().forEach(function(a){a.getAttribute&&a.getAttribute("src")&&n(a.getAttribute("src"),a);b.appendChild(a)});this.element.appendChild(b);this.a=b;return this.loadPromise(b)};p.prototype.pauseCallback=function(){this.a&&this.a.pause()};AMP.registerElement("amp-audio",p);})});